<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="ISO-8859-1" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<!-- Bootstrap Core CSS -->
		<link rel="stylesheet" type="text/css" href="../../../static/cms/css/bootstrap.min.css" th:href="@{/cms/css/bootstrap.min.css}" />

		<!-- Custom CSS -->
		<link rel="stylesheet" type="text/css" href="../../../static/cms/css/sb-admin.css" th:href="@{/cms/css/sb-admin.css}" />
		
		<!-- Custom Fonts -->
		<link rel="stylesheet" type="text/css" href="../../../static/cms/font-awesome/css/font-awesome.min.css" th:href="@{/cms/font-awesome/css/font-awesome.min.css}" />
		
		<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/timepicker/jquery.timepicker.min.css" />
		
		<script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.1.1.min.js"></script>
		<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/timepicker/jquery.timepicker.min.js"></script>
		
		<script type="text/javascript">
		
			$(document).ready(function() {
				timePickerInit();
			});
			
			function timePickerInit() {
				$('.timepicker').timepicker({ 'timeFormat': 'H:i' });
			}
		
		</script>
		
		<title>Fondou CMS - Trading Periods</title>
	</head>
	<body>
		<nav th:replace="cms/cms-base :: navigation">
		</nav>
		<div id="wrapper">	
	        <div id="page-wrapper">	
	            <div class="container-fluid">	
	                <div class="row">
	                    <div class="col-lg-12">
	                        <h1 class="page-header">
	                            Trading Periods
	                        </h1>
	                        <div class="row">
	                        	<div class="col-lg-3">
	                        		<form id="tradingHoursForm" th:object="${command}" method="post" th:action="@{/cms/{branch}/tradingPeriods(branch=${branch})}">
	                        			<div class="form-group" th:each="tradingPeriod, stat : *{tradingPeriods}">	
											<label class="control-label" th:text="*{#strings.capitalize(#strings.toLowerCase(tradingPeriods[__${stat.index}__].dayTitle))}">Monday</label>
											<input type="hidden" th:field="*{tradingPeriods[__${stat.index}__].dayTitle}" />
											<input type="hidden" th:field="*{tradingPeriods[__${stat.index}__].dayOfWeek}" />
											<small class="text-danger text-nowrap" th:if="${#fields.hasErrors('tradingPeriods[__${stat.index}__]')}" th:inline="text"> - [[${#fields.errors('tradingPeriods[__${stat.index}__]')[0]}]]</small>
											<div class="row">
												<div class="col-xs-4" th:classappend="${#fields.hasErrors('tradingPeriods[__${stat.index}__].openingTime') || #fields.hasErrors('tradingPeriods[__${stat.index}__]')}?has-error">
													<input class="form-control timepicker" th:field="*{tradingPeriods[__${stat.index}__].openingTime}" />
													<small class="text-danger text-nowrap" th:if="${#fields.hasErrors('tradingPeriods[__${stat.index}__].openingTime')}" th:text="${#fields.errors('tradingPeriods[__${stat.index}__].openingTime')[0]}">Invalid Format</small>
												</div>
												<div class="pull-left">
													<label class="control-label">To</label>
												</div>
												<div class="col-xs-4" th:classappend="${#fields.hasErrors('tradingPeriods[__${stat.index}__].closingTime') || #fields.hasErrors('tradingPeriods[__${stat.index}__]')}?has-error">
													<input class="form-control timepicker" th:field="*{tradingPeriods[__${stat.index}__].closingTime}" />
													<small class="text-danger text-nowrap" th:if="${#fields.hasErrors('tradingPeriods[__${stat.index}__].closingTime')}" th:text="${#fields.errors('tradingPeriods[__${stat.index}__].closingTime')[0]}">Invalid Format</small>
												</div>
											</div>
										</div>
										<p class="pull-right">
											<button onclick="document.getElementById('tradingHoursForm').reset()" type="submit" class="btn btn-warning">Reset</button>
											<input type="submit" class="btn btn-success" value="Save"/>
										</p>
	                        		</form>
	                        	</div>
	                        </div>
	                    </div>
	                </div>
	            </div>
	        </div>	
	    </div>	
		<script type="text/javascript" src="../../../static/cms/js/bootstrap.min.js" th:src="@{/cms/js/bootstrap.min.js}"></script>
	</body>
</html>